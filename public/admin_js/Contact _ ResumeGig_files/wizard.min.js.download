!function(s,p){function t(){var o="document_data",c=!1,s=null;function u(){return(new Date).getTime()}this.Init=function(){c=function(){var t="test";try{return!!(s=window.sessionStorage)&&(s.setItem(t,"1"),s.removeItem(t),!0)}catch(t){return p.Logger.LogError(err),!1}}()},this.GetSection=function(t,e){if(!0===c&&t&&e)try{var n=s.getItem(o);if(n){var r=JSON.parse(n);if(r&&r.data&&r.timestamp)if(r.timestamp>u()){var a="d_"+t.toString(),i=r.data[a];if(i&&i[e])return i[e]}else s.removeItem(o)}}catch(t){p.Logger.LogError(t),this.DeleteDocs()}return null},this.SetSection=function(t,e,n){if(!0===c&&t&&e)try{var r="d_"+t.toString(),a=null,i=s.getItem(o);i&&(a=JSON.parse(i)),a||(a={}),a.data||(a.data={}),a.data[r]||(a.data[r]={}),a.data[r][e]=n,a.timestamp=new Date(u()+24e5).getTime(),s.setItem(o,JSON.stringify(a))}catch(t){p.Logger.LogError(t),this.DeleteDocs()}},this.DeletePara=function(t,e,n){var r=this.GetSection(t,e);if(r&&r.paragraphs){for(var a=[],i=0;i<r.paragraphs.length;i++)r.paragraphs[i].paragraphId!=n&&a.push(r.paragraphs[i]);r.paragraphs=a,this.SetSection(t,e,r)}},this.GetSecPara=function(t,e,n){if(!0===c){var r=this.GetSection(t,e);if(r&&r.sectionId){var a={sectionId:r.sectionId};if(r.paragraphs)for(var i=0;i<r.paragraphs.length;i++)r.paragraphs[i].paragraphId==n&&(a.paragraph=r.paragraphs[i].data);return a}}return null},this.SetSecPara=function(t,e,n,r){if(!0!==c)return!1;var a=this.GetSection(t,e);a||(a={}),a.sectionId||(a.sectionId=r.sectionId),a.paragraphs||(a.paragraphs=[]);for(var i=!1,o=0;o<a.paragraphs.length;o++)a.paragraphs[o].paragraphId==n&&(i=!0,a.paragraphs[o].data=r);if(0==i){var s={};s.paragraphId=n,s.data=r,a.paragraphs.push(s)}return this.SetSection(t,e,a),!0},this.ExpireSection=function(t,e){this.SetSection(t,e,null)},this.DeleteDocs=function(){!0===c&&s.removeItem(o)}}function e(){var n=!1,r=[];function a(){return s(this).prop("checked")}function i(t){var e=t,n=e();this.HasChanged=function(){return n!==e()}}this.Init=function(t){n=!0},this.Track=function(t){if(!0===n){if(t.selector){var e=s(t.selector);e.filter("input[type=text],input[type=email],input[type=number],select").each(function(){r.push(new i(function(){return s(this).val()}.bind(this)))}),e.filter("input[type=checkbox]").each(function(){r.push(new i(a.bind(this)))}),e.filter("input[type=radio]").each(function(){r.push(new i(a.bind(this)))})}t.getValFunc&&r.push(new i(t.getValFunc))}},this.HasChanged=function(){if(!0===n){var t=r.length;if(0<t){for(var e=0;e<t;e++)if(!0===r[e].HasChanged())return!0;return!1}}return!0}}function n(){var r={},a=!1;this.Init=function(){a=!0},this.On=function(t,e){r[t]=e},this.Off=function(){a=!1},this.Call=function(t,e){if(e&&a){var n=r[t];n?n().then(function(t){t&&(location.href=e)}):location.href=e}}}function r(){this.EnableTabbing=function(e){s("input[type!=hidden][tabindex],.nice-select").on("keyup",function(t){!function(t,e){if(t.keyCode&&13==t.keyCode){var n=-1;s("[tabindex]").attr("tabindex",function(t,e){n=Math.max(n,+e)}),t.preventDefault();var r=s(t.target);if(!r.attr("tabindex"))return;var a=s(t.target).attr("type");if("button"!=a||"submit"!=a){var i=parseInt(r.attr("tabindex"))+1;if(-1!=n&&n<i)s("#"+e).click();else{var o=s("[tabindex="+i+"]");"INPUT"==o[0].nodeName?o.focus():"SELECT"==o[0].nodeName&&(r.blur(),o.next(".nice-select").focus())}}}}(t,e)}),s("form").keypress(function(t){return 13!=t.keyCode})},this.SetFocusOnEle=function(t){0<s("#hdnIsIpad").length&&s("#"+t).focus()},this.ScrollScreenForRecords=function(t){s(t).focus(function(t){var e=s(t.target);s(document).scrollTop(e.offset().top-e.prev().height()-5)})}}p.Storage=new t,p.Storage.Init(),p.ChangeTracker=new e,p.ChangeTracker.Init(),p.ProgressBar=new n,p.ProgressBar.Init(),p.Form=new r,p.PopUp=p.PopUp||{},p.PopUp.AddTransition=function(t){t.removeClass("visible").addClass("hide-popup")},p.PopUp.RemoveTransition=function(t){var e=jQuery.Deferred();return setTimeout(function(){t.removeClass("hide-popup"),e.resolve()},350),e.promise()},s(function(){s("input[type=text]").on("blur",function(t){""==s(this).val()||s(this).parent(".input-element").hasClass("invalid")?s(this).parent(".input-element").removeClass("valid"):s(this).parent(".input-element").addClass("valid")}),s("#progressBarContainer li").on("click",function(t){p.ProgressBar.Call("save",s(this).attr("data-url"))})})}(jQuery,window.RB3);
//# sourceMappingURL=wizard.min.js.map
